{"version":3,"file":"static/js/894.7b4c4fe7.chunk.js","mappings":"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","sources":["webpack://anime/./src/componets/common/form/Form.module.css?e548","componets/common/form/Form.tsx","hooks/useAppDispatch.ts","webpack://anime/./src/componets/login/Login.module.css?6b6b","componets/login/Login.tsx","pages/LoginPage.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Form_form__H-TCY\",\"avatar_container\":\"Form_avatar_container__lzlur\",\"avatar_image\":\"Form_avatar_image__zvjC+\",\"plus\":\"Form_plus__v23Ay\",\"file_input\":\"Form_file_input__xKoIw\"};","import { FC, useRef, useState } from 'react';\r\n\r\nimport img from 'assets/ava.jpg';\r\n\r\nimport styles from './Form.module.css';\r\n\r\ninterface FormProps {\r\n    isSignUp?: boolean;\r\n    title: string;\r\n    handleClick: (\r\n        email: string,\r\n        password: string,\r\n        username: string,\r\n        photo: File | null\r\n    ) => void;\r\n}\r\n\r\nconst Form: FC<FormProps> = ({ title, isSignUp, handleClick }) => {\r\n    const [email, setEmail] = useState<string>('');\r\n    const [password, setPassword] = useState<string>('');\r\n    const [username, setUsername] = useState<string>('');\r\n    const [selectedPhoto, setSelectedPhoto] = useState<File | null>(null);\r\n\r\n    const fileInputRef = useRef<HTMLInputElement | null>(null);\r\n    const imageRef = useRef<HTMLImageElement | null>(null);\r\n\r\n    const handleContainerClick = () => {\r\n        if (fileInputRef.current) {\r\n            fileInputRef.current.click();\r\n        }\r\n    };\r\n\r\n    const handleFileChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        const file = event.target.files?.[0];\r\n        if (file) {\r\n            const reader = new FileReader();\r\n            reader.onload = (e) => {\r\n                if (imageRef.current) {\r\n                    imageRef.current.src = e.target?.result as string;\r\n                }\r\n            };\r\n            reader.readAsDataURL(file);\r\n            setSelectedPhoto(file);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className={styles.form}>\r\n            {isSignUp && (\r\n                <>\r\n                    <div\r\n                        className={styles.avatar_container}\r\n                        onClick={handleContainerClick}\r\n                    >\r\n                        <input\r\n                            type=\"file\"\r\n                            accept=\"image/*\"\r\n                            className={styles.file_input}\r\n                            ref={fileInputRef}\r\n                            onChange={handleFileChange}\r\n                        />\r\n                        <img\r\n                            className={styles.avatar_image}\r\n                            src={img}\r\n                            alt=\"Avatar\"\r\n                            ref={imageRef}\r\n                        />\r\n                        <div className={styles.plus}>+</div>\r\n                    </div>\r\n                    <label>Username</label>\r\n                    <input\r\n                        value={username}\r\n                        onChange={(e) => setUsername(e.target.value)}\r\n                        placeholder=\"Enter username\"\r\n                        type=\"text\"\r\n                    />\r\n                </>\r\n            )}\r\n            <label>Email</label>\r\n            <input\r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n                placeholder=\"Enter email\"\r\n                type=\"email\"\r\n            />\r\n            <label>Password</label>\r\n            <input\r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n                placeholder=\"Enter password\"\r\n                type=\"password\"\r\n            />\r\n            <button\r\n                onClick={() =>\r\n                    handleClick(email, password, username, selectedPhoto)\r\n                }\r\n            >\r\n                {title}\r\n            </button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Form;\r\n","import { useDispatch } from 'react-redux';\r\n\r\nimport { AppDispatch } from 'types/redux/redux';\r\n\r\nexport const useAppDispatch: () => AppDispatch = useDispatch;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"login\":\"Login_login__SiAzS\",\"link\":\"Login_link__5WF+X\"};","import { FC } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport Form from 'componets/common/form/Form';\r\n\r\nimport styles from './Login.module.css';\r\n\r\ninterface LoginProps {\r\n    handleClick: (email: string, password: string) => void;\r\n}\r\n\r\nconst Login: FC<LoginProps> = ({ handleClick }) => {\r\n    return (\r\n        <div className={styles.login}>\r\n            <h2>Login</h2>\r\n            <Form title=\"Log In\" handleClick={handleClick} />\r\n            <Link className={styles.link} to={'/sign-up'}>\r\n                Don't have an account? <span>Sign Up</span>\r\n            </Link>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;\r\n","import { FC } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { getAuth, signInWithEmailAndPassword } from 'firebase/auth';\r\n\r\nimport Login from 'componets/login/Login';\r\n\r\nimport { useAppDispatch } from 'hooks/useAppDispatch';\r\n\r\nimport { setUser } from '../redux/profileSlice';\r\n\r\nconst LoginPage: FC = () => {\r\n    const navigate = useNavigate();\r\n    const dispatch = useAppDispatch();\r\n\r\n    const handleLogin = (email: string, password: string) => {\r\n        const auth = getAuth();\r\n        signInWithEmailAndPassword(auth, email, password)\r\n            .then(({ user }) => {\r\n                dispatch(\r\n                    setUser({\r\n                        email: user.email,\r\n                        id: user.uid,\r\n                        token: user.refreshToken,\r\n                        username: user.displayName,\r\n                        photo: user.photoURL,\r\n                    })\r\n                );\r\n                navigate('/profile');\r\n            })\r\n            .catch(console.error);\r\n    };\r\n    return (\r\n        <div className=\"container\">\r\n            <Login handleClick={handleLogin} />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default LoginPage;\r\n"],"names":["_ref","title","isSignUp","handleClick","email","setEmail","useState","password","setPassword","username","setUsername","selectedPhoto","setSelectedPhoto","fileInputRef","useRef","imageRef","_jsxs","className","styles","children","_Fragment","onClick","handleContainerClick","current","click","_jsx","type","accept","ref","onChange","event","_event$target$files","file","target","files","reader","FileReader","onload","e","_e$target","src","result","readAsDataURL","img","alt","value","placeholder","useAppDispatch","useDispatch","Form","Link","to","LoginPage","navigate","useNavigate","dispatch","Login","handleLogin","auth","getAuth","signInWithEmailAndPassword","then","user","setUser","id","uid","token","refreshToken","displayName","photo","photoURL","catch","console","error"],"sourceRoot":""}